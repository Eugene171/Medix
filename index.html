<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
   
    <title>Medix</title>
</head>
<body>
           <nav class="navbar navbar-expand-lg navbar-light">
        
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
            <h1 style="color:lightblue;">Medix</h1> 
             
            </div>
          </nav>
<div class="Table">
    <div class="container">
        <div class="row">
          <div class="col-md">
       
          
        </div>
      </div>
</div>
<br>
<div class="container">
<form action="" id="order">
    <h2 style="text-align: center;color: black;"><strong> Buy Now</strong></h2>
<div class="card" style="color: white;">
    <p>Medicine</p>
    <select class="form-control form-control-sm" id="Flavour">
      <br>
      <option>select</option>
      <option value="Panadol">Panadol</option>
      <option value="Strepsils">Strepsils</option>
      <option value="Brufen">Brufen</option>
    </select>
    <p>Medicine Type</p>
    <select class="form-control form-control-sm" id="Size">
      <br>
      <option>select</option>
      <option value="900">Syrup </option>
      <option value="600"> Capsule</option>
      <option value="400">Injection</option>
    </select>
    
  <p>Dose</p> 
  <select class="form-control form-control-sm" id="Crust">
    <option>select</option>
    <option value="0">Mild</option>
    <option value="0">Normal</option>
    <option value="0">Effective</option>
  </select>
  
<p>Pick Method</p>
  <select class="form-control form-control-sm" id="Topping">
    <option>select</option>
    <option value="0">Main Branch Pickup : Free           </option>
    <option value="5">Sub-Branch Pickup  : Ksh.1 per item </option>
    <option value="10">Home Delivery     : Ksh.2 per item </option>
  </select>
  
</div>

</form>

<form id="pricing">
  <option value="one"></option>
  <div class="form-group">
        <label for="" >Quantity</label>
        <br>
        <input type="number" class="form-control" id="number" placeholder="" required  min="1"/>
      </div>
      <button type="button" class="btn btn-success btn-lg" style="margin-left: 40%;" id="checkout">Order</button>
      
    </form>
    </div>

<br><br>
<div class="container" id="contain">
<div class="col-sm-7" id="orderPut">
               
  <div class="orderCalculation">
    <h2>Medicine Order:</h2>
    <div id="your-orders">
      <table class="table table-sm  pizzaTable">
        <thead>
          <tr>
            <th scope="col">Medicine</th>
            <th scope="col">Type</th>
            <th scope="col"></th>
            <th scope="col">Delivery</th>
            <th scope="col">Quantity</th>
            <th scope="col">Total</th>
          </tr>
        </thead>
        <tbody id="ordersTaken">
          
        </tbody>
      </table>
    
    <br /><br />
      <button class="btn btn-success" id="Checkout" onclick="get-Med()">Checkout</button>
      <div class="checkout-info hidden">
        <h3 id="check">Check form</h3>
        <form action="" id="checkoutForm">
<div class="form-group">
<input type="text" id="name" class="form-control mb-3" placeholder="Name">

<div class="form-group">
<label for="exampleFormControlSelect1">House Number</label>
<input type="text" class="form-control" id="houseNumber" placeholder="Enter Name"
    required />
</div>

<button type="submit" class="btn btn-success" id="submit" >Submit</button>
</form>

</div>
      </div>
    </div>
  </div>
</div>
<br>

    <script src="https://code.jquery.com/jquery-3.5.1.js" 
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="./js/scripts.js"></script>
</body>
</html>

<script>
var OrderNew = [];
function Med(medName,medType,pizzaCrust,pizzaTopping, PizzaNumber) {
    this.medName=medName;
    this.medType= medType;
    this.pizzaCrust=pizzaCrust;
    this.pizzaTopping=pizzaTopping;
    this.PizzaNumber=PizzaNumber;
}
var pizzaPrice= [900,600,400,]
Med.prototype.totalPrice = function(){
    return (this.pizzaCrust + this.pizzaTopping + this.pizzaSize) * this.PizzaNumber
};
Med.prototype.pizzaS = function () {
    if (this.medType == 900) {
        return "Panadol"
        
    } else if (this.medType == 600) {
        return "Strepsils"
    } else if (this.pizzaSize == 400) {
        return "Brufen"
    }
}
Med.prototype.pizzaC = function () {
    if (this.pizzaCrust == 150) {
        return "Syrup"
        
    } else if (this.pizzaCrust == 200) {
        return "Capsule"
    } else if (this.pizzaCrust == 250) {
        return "Injection"
    }
}
Med.prototype.pizzaT =function(){
    if (this.pizzaTopping == 150){
        return "Main Branch Pickup"
    }
    else if (this.pizzaTopping == 170){
        return " Sub Branch Pickup"
    }
    else if ( this.pizzaTopping == 200){
        return"Home Delivery"
    }
}

$("#checkout").click(function (event) {
    
    var PizzaFlavour = $("#Flavour").val();
    
    var MedType = parseInt( $("#Type").val());
    
    var PizzaCrust = parseInt( $("#Crust").val());
    
    var PizzaTopping =parseInt( $("#Topping").val());
    
    var PizzaNumber =parseInt( $("#number").val());
    
    
    var newPizzae = new Med(PizzaFlavour, MedType, PizzaCrust, PizzaTopping, PizzaNumber); 
    
    
    console.log(newPizzae)
    
    console.log(newPizzae.medName)
    OrderNew.push(newPizzae);
    console.log(OrderNew)
    
    $("#Flavour").val("");
    $("#Type").val("");
    $("#Crust").val("");
    $("#Topping").val("");
    $("#number").val("");
     
    totalAmount = 0
    for (let i = 0; i < OrderNew.length; i++ ){
        totalAmount += OrderNew[i].totalPrice();
        console.log(totalAmount)
    }
    
    $("#ordersTaken").append(
        "<tr>" +
        '<td scope="orderCalculation">' +
       newPizzae.medName +
        "</td>" +
        "<td>" +
        newPizzae.pizzaS () +
        " @ " +
        newPizzae.medType + 
        "</td>" +
        "<td>" +
        newPizzae.pizzaC () +
        " @ " +
        newPizzae.pizzaCrust + 
        "</td>" +
        "<td>" +
        newPizzae.pizzaT () +
        " @ " +
        newPizzae.pizzaTopping + 
        "</td>" +
        "<td>" +
        newPizzae.PizzaNumber +
        "</td>" +
        "<td>" +
        newPizzae.totalPrice() +
        "</td>" +
        "</tr>"

    );
    
    $("#ordersTaken").append("");
    if (OrderNew.length > 0) {
        $("#form-heading").empty();
        $("#form-heading").append("Make A New Order");
    }
    $("#totalAmount").fadeIn();
    $("#Checkout").fadeIn();
    $("#orderPut").fadeIn();
    $("#totalAmount").empty();
    $("#totalAmount").append(totalAmount);
    $("#totalAmount").show();
});
$("#Checkout").click(function () {
$(".checkout-info").show();
});
$("#checkoutForm").submit(function (event) {
event.preventDefault();
var name = $("#name").val();
var deliveryOption = $("#OptionDelivery").val();
NameOfCustomer = name;
$("#name").val("");
$("#OptionDelivery").val("");
$(".checkout-info").hide();
$("#Checkout").hide();
$("#totalAmount").empty();
if (deliveryOption === "deliver") {
    $(".deliveryLocation").show();
    $(".deliveryCost").show();
    $("#totalAmount").empty();
    $("#delivery-cost").append(150);
    totalAmount += 150;
    $("#totalAmount").empty();
    $("#totalAmount").empty();
$("#totalAmount").append(totalAmount);
$(".TotalAmount").show();
} else {
    alert(+"Dear, "+ NameOfCustomer + ": Your total bill is Ksh. " + totalAmount + ".Collect your order in the next one hour." + " " + " Feel free to reach out to us anytime for questions peraining our products.");
}
});
$("#locationForm").submit(function (event) {
event.preventDefault();
var estateEntered = $("#estate").val();
var houseNumberEntered = $("#houseNumber").val();
estate = estateEntered;
houseNumber = houseNumberEntered;
$("#Checkout").hide();
$(".deliveryLocation").hide();
$("#totalAmount").empty();
$("#totalAmount").append(totalAmount);
$(".TotalAmount").show();
alert(+ "Dear " + NameOfCustomer + ": Your new total bill is Ksh. " + totalAmount + ". Your order will be delivered to " + estate + ", " + houseNumber + " in the next one hour." + " Make full payment on delivery." + "Feel free to reach out to us anytime for questions peraining our products and deliveries.");
});
</script>
	
<style>
body
	{
  background-image: url("medical.png");
  background-repeat: repeat;
}
	</style>
